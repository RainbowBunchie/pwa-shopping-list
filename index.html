<html>
  <head>
    <meta charset="uft-8" />
    <meta name="theme-color" content="#536878" />
    <meta name=viewport content="width=device-width, initial-scale=1">
    <title>shopping list</title>
    <link href="css/styles.css" rel="stylesheet">
    <link rel="manifest" href="/manifest.json">
  </head>
  <body>
    <header class="header">
      <h2 class="header__name">shopping list</h2>
      <div class="header__new-item new-item">
        <input id="input--add" class="new-item__input"type="text" placeholder="add new item">
        <button id="button--add" class="new-item__button">
          Add
        </button>
      </div>
    </header>
    <section id="items" class="items">
      <div id="item--template" class="items__item item">
        <input class="item__checkbox" type="checkbox" name="vehicle1"> <span id="item__name">Item 1</span> <img class="item__delete"src="./images/delete.png">
      </div>
    </section>
  </body>
  <script src="./js/firebase-app.js"></script>
  <script src="./js/firebase-firestore.js"></script>
  <script src="./js/firebase-messaging.js"></script>
  <script src="./js/index.js"></script>
  <script>

  // let isSubscribed;
  //
  // function checkPush(){
  //   swRegistration.pushManager.getSubscription()
  //   .then(function(subscription) {
  //       isSubscribed = !(subscription === null);
  //       if (isSubscribed) {
  //         console.log('User IS subscribed.');
  //       } else {
  //         console.log('User is NOT subscribed.');
  //         subscribeUser();
  //       }
  //     });
  //   }

    // function subscribeUser() {
    //   const applicationServerKey = urlB64ToUint8Array(applicationServerPublicKey);
    //   swRegistration.pushManager.subscribe({
    //     userVisibleOnly: true
    //   }).then(function(sub) {
    //     console.log('Endpoint URL: ', sub.endpoint);
    //    // console.log('ApplicationServerKey : ', sub.applicationServerKey);
    //   }).catch(function(e) {
    //     if (Notification.permission === 'denied') {
    //       console.warn('Permission for notifications was denied');
    //     } else {
    //       console.error('Unable to subscribe to push', e);
    //     }
    //   });
    // }

  // let deferredPrompt;

  // window.addEventListener('beforeinstallprompt', function(e) {
  //   e.preventDefault();
  //   deferredPrompt = e;
  //   return false;
  // });

</script>
</html>
